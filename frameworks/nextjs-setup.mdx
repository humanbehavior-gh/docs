---
title: 'Next.js'
description: 'Set up HumanBehavior SDK with Next.js applications'
---

# Using HumanBehaviorTracker with Next.js

## Quickstart

Human Behavior works seamlessly to record sessions on your Next.js app.

<Expandable title="How to get your API Key">
<Info>
  <strong>How to find your Public API Key:</strong><br/>
  <b>Flow:</b> Project Home → Integrations → Human Behavior SDK → Kebab Menu → Configuration → Public API Key
</Info>

<img
  src="/images/APIKeyUpdated.png"
  alt="Where to find your Public API Key"
  style={{ borderRadius:"0.5rem",margin:"1rem 0",maxWidth:"100%" }}
/>

<p style={{ fontSize: '0.95em', color: '#888', marginTop: '-0.5rem', marginBottom: '1.5rem' }}><em>Example screenshot – your actual API key will be different.</em></p>
</Expandable>

### Option 1: Installation Wizard (Recommended)

The easiest way to get started is using our installation wizard:

```bash
# Navigate to your project directory
cd your-project-directory

# Run the installation wizard
npx humanbehavior-js YOUR_API_KEY
```

The wizard will:
1. Ask for your API key (if not provided as an argument)
2. Let you select **Next.js** from the framework options
3. Automatically install and configure the SDK for your Next.js project:
   - Install the `humanbehavior-js` package
   - Detect your Next.js configuration (App Router vs Pages Router)
   - Add HumanBehaviorProvider to your app
   - Configure environment variables
   - Set up proper Next.js integration

<Tip>
  **Why choose the Auto-Installation Wizard?**
  The auto-installation wizard is perfect for developers who want to get started quickly. It automatically detects your Next.js setup and provides the optimal integration configuration with detailed explanations of each step.
</Tip>

### Option 2: Manual Setup

If you prefer manual setup or the wizard doesn't work for your project, follow the steps below.

## Step 1: Installation

```bash
npm install humanbehavior-js
# or
yarn add humanbehavior-js
```

## Step 2: Basic Setup

### Add the Tracker to Your App

Use the React provider for the best integration and automatic tracking:

**Step 1**: Create a separate providers file for client-side code:

Create `app/providers.tsx`:
```tsx
'use client' // Only the provider needs to be client-side

import { HumanBehaviorProvider } from 'humanbehavior-js/react'

export function Providers({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <HumanBehaviorProvider apiKey={process.env.NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY!}>
      {children}
    </HumanBehaviorProvider>
  )
}
```

**Step 2**: Import the providers in your layout (which stays a Server Component):

In `app/layout.tsx`:
```tsx
import { Providers } from './providers'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>
        <Providers>
          {children}
        </Providers>
      </body>
    </html>
  )
}
```

<Note>
  **Why use a separate providers file?** This pattern keeps your app layout as a Server Component while only making the provider client-side. This preserves the performance benefits of Server Components and ensures optimal rendering.
</Note>

<Note>
  **That's it!** The SDK now automatically tracks user interactions, navigation, and console events. Everything past here is optional.
</Note>

## Alternative: Manual Initialization

If you prefer manual setup, you can initialize the tracker directly:

```tsx
'use client' // This line is CRUCIAL - it tells Next.js this is a client component

import { useEffect } from 'react';
import { HumanBehaviorTracker } from 'humanbehavior-js';

function MyApp({ Component, pageProps }) {
  useEffect(() => {
    // Initialize the tracker once globally
    const tracker = HumanBehaviorTracker.init(process.env.NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY);
  }, []);

  return <Component {...pageProps} />;
}

export default MyApp;
```

## Optional: Advanced Features

### Track Custom Events

```tsx
'use client'

import { useHumanBehavior } from 'humanbehavior-js/react';

function MyComponent() {
  const tracker = useHumanBehavior();

  const handleButtonClick = async () => {
    // Track custom event
    await tracker.customEvent('button_clicked', {
      buttonLocation: 'header'
    });
  };

  const handleLogin = async (user) => {
    // Identify user after successful authentication
    await tracker.identifyUser({
      userProperties: {
        email: user.email,
        name: user.name,
        userId: user.id
      }
    });
  };

  return (
    <div>
      <button onClick={handleButtonClick}>Click Me</button>
    </div>
  );
}
```

## Environment Variables

```bash
# .env.local
NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY=your-api-key-here
```

```tsx
// In your code
const tracker = HumanBehaviorTracker.init(process.env.NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY);
```

## Troubleshooting

- Make sure you're using `'use client'` at the top of your file
- Check browser console for any error messages
- Verify your API key is correct
- Ensure the tracker is initialized before any user interaction
